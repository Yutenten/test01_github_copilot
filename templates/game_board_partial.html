<table class="board">
    {% for r in rows %}
        <tr>
            {% for c in cols %}
                {% if game.revealed[r][c] or game.game_over %}
                    {% if (r, c) in game.mine_positions %}
                        <td class="cell revealed mine">M</td>
                    {% elif game.board[r][c] == " " %}
                        <td class="cell revealed">&nbsp;</td>
                    {% else %}
                        <td class="cell revealed num-{{ game.board[r][c] }}">{{ game.board[r][c] }}</td>
                    {% endif %}
                {% else %}
                    <td class="cell">
                        <form class="cell-form" style="margin:0; padding:0;">
                            <input type="hidden" name="row" value="{{ r }}">
                            <input type="hidden" name="col" value="{{ c }}">
                            <button type="button" class="cell-button" style="width: 100%; height: 100%; border: none; background: none; cursor: pointer;">&nbsp;</button>
                        </form>
                    </td>
                {% endif %}
            {% endfor %}
        </tr>
    {% endfor %}
</table>

<div class="message" style="display:none;">{{ message }}</div>